function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function init(){output=document.getElementById("output"),testWebSocket()}function testWebSocket(){websocket=new WebSocket(wsUri),websocket.onopen=function(t){onOpen(t)},websocket.onclose=function(t){onClose(t)},websocket.onmessage=function(t){onMessage(t)},websocket.onerror=function(t){onError(t)}}function onOpen(t){writeToScreen("Connected to Scarlet Servers"),browserConnect(),updateStatus("Hello <span class='username'>"+info.username+"</span>"),updateFile("Current Install Location is: "+info.installDir+"\\@Mods_AAF")}function onClose(t){testWebSocket()}function browserConnect(){doSend("Updater|browserConnect|"+info.username),connectedNo++,setTimeout(function(){0==connected&&(connectedNo<20?(browserConnect(),console.log("Updater Ping - Not Connected")):writeToScreen("Could not Connect to Updater"))},2e3)}function onMessage(t){var e=t.data.split("|");"Browser"==e[0]&&("browserConfirmation"==e[1]?updaterNowConnected(e[2]):"UpdateInstallLocation"==e[1]?(updateInstallLocation(e[2]),console.log(e[2])):"UpdateStatus"==e[1]?updateStatus(e[2]):"UpdateFile"==e[1]?updateFile(e[2]):"UpdateProgress"==e[1]?updateProgress(e[2]):"Completed"==e[1]&&completed())}function updaterNowConnected(t){writeToScreen("Connected to Updater"),console.log("Updater Ping - Connected"),connected=!0,$("#status_updater").statusColour("green"),"free"==t?($("input").removeAttr("disabled"),$("input").removeAttr("class"),$("input").attr("class","button")):(doSend("Updater|fetchStatus"),$("input#location").removeAttr("class").attr("class","button disabled").attr("disabled","disabled"),$("input#start").attr("value","Stop Download").attr("onClick","stopDownload()"))}function startDownload(){doSend("Updater|startDownload|"+info.installDir),writeToScreen("Commencing Download"),$("input#location").removeAttr("class").attr("class","button disabled").attr("disabled","disabled"),$("input#start").attr("value","Stop Download").attr("onClick","stopDownload()")}function stopDownload(){doSend("Updater|stopDownload"),writeToScreen("Download Stopped"),$("input#location").removeAttr("class").attr("class","button").removeAttr("disabled"),$("input#start").removeAttr("onClick").attr("onClick","startDownload()").attr("value","Start Download")}function onError(t){writeToScreen('<span style="color: red;">ERROR:</span> Unable to connect to Scarlet Servers'),$("#status_updater").statusColour("red")}function doSend(t){console.log("SENT: "+t),websocket.send(t)}function updateFile(t){$(".file").html(t)}function updateStatus(t){$(".status").html(t)}function updateProgress(t){var e=t.split("/"),s=parseFloat(e[0]);$(".progress-meter").css("width",s+"%")}function updateInstallLocation(t){$.post("https://scarlet.australianarmedforces.org/api/user/install/"+info.key,{installDir:t}).done(function(){$.post("https://scarlet.australianarmedforces.org/api/user/info/"+info.key,function(t){info=t,updateFile("Current Install Location is: "+info.installDir+"\\@Mods_AAF")})})}function completed(){updateFile("Start ARMA 3 using the Steam Launcher"),writeToScreen("Download Complete")}function changeLocation(){doSend("Updater|locationChange")}function writeToScreen(t){var e=document.createElement("p");e.style.wordWrap="break-word",output.innerHTML=t}!function t(e,s,n){function i(a,r){if(!s[a]){if(!e[a]){var c="function"==typeof require&&require;if(!r&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=s[a]={exports:{}};e[a][0].call(h.exports,function(t){var s=e[a][1][t];return i(s?s:t)},h,h.exports,t,e,s,n)}return s[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,s){"use strict";function n(t){this.getElement(t.element),this.x1=0,this.y1=0,this.name=t.name||!1,this.elToSetClassOn=t.elToSetClassOn||"body",this.direction=t.direction||"diagonal",this.isPausedWhenNotInView=t.isPausedWhenNotInView||!1,this.opacity=t.opacity,this.states=t.states,this.stateTransitionSpeed=t.stateTransitionSpeed||1e3,this.previousTimeStamp=null,this.progress=0,this.isPaused=!1,this.isCleared=!1,this.isPausedBecauseNotInView=!1,this.iscurrentColorsSet=!1,this.context=this.canvas.getContext("2d"),this.channels={},this.channelsIndex=0,this.activeState=t.defaultStateName||"default-state",this.isChangingState=!1,this.activeColors=[],this.activeColorDiff=[],this.activetransitionSpeed=null,this.currentColors=[],this.eventPolyfill(),this.events={start:new CustomEvent("granim:start"),end:new CustomEvent("granim:end"),gradientChange:function(t){return new CustomEvent("granim:gradientChange",{detail:{isLooping:t.isLooping,colorsFrom:t.colorsFrom,colorsTo:t.colorsTo,activeState:t.activeState},bubbles:!1,cancelable:!1})}},this.callbacks={onStart:"function"==typeof t.onStart&&t.onStart,onGradientChange:"function"==typeof t.onGradientChange&&t.onGradientChange,onEnd:"function"==typeof t.onEnd&&t.onEnd},this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.setColors(),this.refreshColors(),window.addEventListener("resize",this.onResize.bind(this)),this.isPausedWhenNotInView?this.pauseWhenNotInView():this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.callbacks.onStart&&this.callbacks.onStart(),this.canvas.dispatchEvent(this.events.start)}n.prototype.setColors=t("./setColors.js"),n.prototype.eventPolyfill=t("./eventPolyfill.js"),n.prototype.colorDiff=t("./colorDiff.js"),n.prototype.hexToRgb=t("./hexToRgb.js"),n.prototype.setDirection=t("./setDirection.js"),n.prototype.makeGradient=t("./makeGradient.js"),n.prototype.getDimensions=t("./getDimensions.js"),n.prototype.getElement=t("./getElement.js"),n.prototype.animateColors=t("./animateColors.js"),n.prototype.getLightness=t("./getLightness.js"),n.prototype.refreshColors=t("./refreshColors.js"),n.prototype.changeState=t("./changeState.js"),n.prototype.pause=t("./pause.js"),n.prototype.play=t("./play.js"),n.prototype.clear=t("./clear.js"),n.prototype.getCurrentColors=t("./getCurrentColors.js"),n.prototype.pauseWhenNotInView=t("./pauseWhenNotInView.js"),n.prototype.onResize=t("./onResize.js"),e.exports=n},{"./animateColors.js":2,"./changeState.js":3,"./clear.js":4,"./colorDiff.js":5,"./eventPolyfill.js":6,"./getCurrentColors.js":7,"./getDimensions.js":8,"./getElement.js":9,"./getLightness.js":10,"./hexToRgb.js":11,"./makeGradient.js":12,"./onResize.js":13,"./pause.js":14,"./pauseWhenNotInView.js":15,"./play.js":16,"./refreshColors.js":17,"./setColors.js":18,"./setDirection.js":19}],2:[function(t,e,s){"use strict";e.exports=function(t){var e=t-this.previousTimeStamp>100,s=void 0===this.states[this.activeState].loop||this.states[this.activeState].loop,n,i,o;(null===this.previousTimeStamp||e)&&(this.previousTimeStamp=t),this.progress=this.progress+(t-this.previousTimeStamp),n=(this.progress/this.activetransitionSpeed*100).toFixed(2),this.previousTimeStamp=t,this.refreshColors(n),n<100?this.animation=requestAnimationFrame(this.animateColors.bind(this)):this.channelsIndex<this.states[this.activeState].gradients.length-2||s?(this.isChangingState&&(this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3),this.previousTimeStamp=null,this.progress=0,this.channelsIndex++,i=!1,this.channelsIndex===this.states[this.activeState].gradients.length-1?i=!0:this.channelsIndex===this.states[this.activeState].gradients.length&&(this.channelsIndex=0),o=void 0===this.states[this.activeState].gradients[this.channelsIndex+1]?this.states[this.activeState].gradients[0]:this.states[this.activeState].gradients[this.channelsIndex+1],this.setColors(),this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.callbacks.onGradientChange&&this.callbacks.onGradientChange({isLooping:i,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:o,activeState:this.activeState}),this.canvas.dispatchEvent(this.events.gradientChange({isLooping:i,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:o,activeState:this.activeState}))):(cancelAnimationFrame(this.animation),this.callbacks.onEnd&&this.callbacks.onEnd(),this.canvas.dispatchEvent(new CustomEvent("granim:end")))}},{}],3:[function(t,e,s){"use strict";e.exports=function(t){var e=this,s,n;this.activeState!==t&&(this.isPaused||(this.isPaused=!0,this.pause()),this.channelsIndex=-1,this.activetransitionSpeed=this.stateTransitionSpeed,this.activeColorDiff=[],this.activeColors=this.getCurrentColors(),this.progress=0,this.previousTimeStamp=null,this.isChangingState=!0,this.states[t].gradients[0].forEach(function(i,o,a){s=e.hexToRgb(e.states[t].gradients[0][o]),n=e.colorDiff(e.activeColors[o],s),e.activeColorDiff.push(n)}),this.activeState=t,this.play())}},{}],4:[function(t,e,s){"use strict";e.exports=function(){this.isPaused?this.isPaused=!1:cancelAnimationFrame(this.animation),this.isCleared=!0,this.context.clearRect(0,0,this.x1,this.y1)}},{}],5:[function(t,e,s){"use strict";e.exports=function(t,e){var s,n=[];for(s=0;s<3;s++)n.push(e[s]-t[s]);return n}},{}],6:[function(t,e,s){"use strict";e.exports=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}},{}],7:[function(t,e,s){"use strict";e.exports=function(){var t,e=[];return this.currentColors.forEach(function(s,n,i){for(e.push([]),t=0;t<3;t++)e[n].push(s[t])}),e}},{}],8:[function(t,e,s){"use strict";e.exports=function(){this.x1=this.canvas.offsetWidth,this.y1=this.canvas.offsetHeight}},{}],9:[function(t,e,s){"use strict";e.exports=function(t){if(t instanceof HTMLCanvasElement)this.canvas=t;else{if("string"!=typeof t)throw new Error("The element you used is neither a String, nor a HTMLCanvasElement");this.canvas=document.querySelector(t)}if(!this.canvas)throw new Error("`"+t+"` could not be found in the DOM")}},{}],10:[function(t,e,s){"use strict";e.exports=function(){var t=this.getCurrentColors(),e=[],s=null,n;return t.forEach(function(t,s,n){e.push(Math.max(t[0],t[1],t[2]))}),e.forEach(function(t,i,o){s=null===s?t:s+t,i===e.length-1&&(n=Math.round(s/(i+1)))}),n>=128?"light":"dark"}},{}],11:[function(t,e,s){"use strict";e.exports=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,s,n){return e+e+s+s+n+n});var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]:null}},{}],12:[function(t,e,s){"use strict";e.exports=function(){var t,e=this.setDirection(),s,n=document.querySelector(this.elToSetClassOn).classList;for(this.context.clearRect(0,0,this.x1,this.y1),t=0;t<this.currentColors.length;t++)s=t?(1/(this.currentColors.length-1)*t).toFixed(2):0,e.addColorStop(s,"rgba("+this.currentColors[t][0]+", "+this.currentColors[t][1]+", "+this.currentColors[t][2]+", "+this.opacity[t]+")");this.name&&("light"===this.getLightness()?(n.remove(this.name+"-dark"),n.add(this.name+"-light")):(n.remove(this.name+"-light"),n.add(this.name+"-dark"))),this.context.fillStyle=e,this.context.fillRect(0,0,this.x1,this.y1)}},{}],13:[function(t,e,s){"use strict";e.exports=function(){this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.refreshColors()}},{}],14:[function(t,e,s){"use strict";e.exports=function(t){var e="isPausedBecauseNotInView"===t;this.isCleared||(e||(this.isPaused=!0),cancelAnimationFrame(this.animation))}},{}],15:[function(t,e,s){"use strict";e.exports=function(){function t(t){s&&clearTimeout(s),s=setTimeout(function(){var s=e.canvas.getBoundingClientRect(),n=s.bottom<0||s.right<0||s.left>window.innerWidth||s.top>window.innerHeight;n?e.isPaused||e.isPausedBecauseNotInView||(e.isPausedBecauseNotInView=!0,e.pause("isPausedBecauseNotInView")):e.isPaused&&t!==!0||(e.isPausedBecauseNotInView=!1,e.play("isPausedBecauseNotInView"))},300)}var e=this,s;window.addEventListener("scroll",t),t(!0)}},{}],16:[function(t,e,s){"use strict";e.exports=function(t){var e="isPausedBecauseNotInView"===t;e||(this.isPaused=!1),this.isCleared=!1,this.animation=requestAnimationFrame(this.animateColors.bind(this))}},{}],17:[function(t,e,s){"use strict";e.exports=function(t){var e,s,n=this;this.activeColors.forEach(function(i,o,a){for(s=0;s<3;s++)e=n.activeColors[o][s]+Math.ceil(n.activeColorDiff[o][s]/100*t),e<=255&&e>=0&&(n.currentColors[o][s]=e)}),this.makeGradient()}},{}],18:[function(t,e,s){"use strict";e.exports=function(){var t=this,e,s;return this.channels[this.activeState]||(this.channels[this.activeState]=[]),void 0!==this.channels[this.activeState][this.channelsIndex]?(this.activeColors=this.channels[this.activeState][this.channelsIndex].colors,void(this.activeColorDiff=this.channels[this.activeState][this.channelsIndex].colorsDiff)):(this.channels[this.activeState].push([{}]),this.channels[this.activeState][this.channelsIndex].colors=[],this.channels[this.activeState][this.channelsIndex].colorsDiff=[],this.activeColors=[],this.activeColorDiff=[],this.states[this.activeState].gradients[this.channelsIndex].forEach(function(n,i,o){var a=t.hexToRgb(n),r=t.channels[t.activeState];r[t.channelsIndex].colors.push(a),t.activeColors.push(a),t.iscurrentColorsSet||t.currentColors.push(t.hexToRgb(n)),t.channelsIndex===t.states[t.activeState].gradients.length-1?e=t.colorDiff(r[t.channelsIndex].colors[i],r[0].colors[i]):(s=t.hexToRgb(t.states[t.activeState].gradients[t.channelsIndex+1][i]),e=t.colorDiff(r[t.channelsIndex].colors[i],s)),r[t.channelsIndex].colorsDiff.push(e),t.activeColorDiff.push(e)}),this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3,void(this.iscurrentColorsSet=!0))}},{}],19:[function(t,e,s){"use strict";e.exports=function(){var t=this.context;switch(this.direction){default:case"diagonal":return t.createLinearGradient(0,0,this.x1,this.y1);break;case"left-right":return t.createLinearGradient(0,0,this.x1,0);break;case"top-bottom":return t.createLinearGradient(this.x1/2,0,this.x1/2,this.y1);break;case"radial":return t.createRadialGradient(this.x1/2,this.y1/2,this.x1/2,this.x1/2,this.y1/2,0)}}},{}],20:[function(t,e,s){window.Granim=t("./lib/Granim.js")},{"./lib/Granim.js":1}]},{},[20]);var getUrlParameter=function t(e){var s=decodeURIComponent(window.location.search.substring(1)),n=s.split("&"),i,o;for(o=0;o<n.length;o++)if(i=n[o].split("="),i[0]===e)return void 0===i[1]||i[1]},IP,connected=!1,connectedNo=1,info,serverInfo,username=getUrlParameter("username");jQuery.fn.extend({statusColour:function(t){$(this).removeClass("orange").removeClass("red").removeClass("green").addClass(t)}}),$.post("https://scarlet.australianarmedforces.org/api/user/info/"+username).done(function(t){info=t,info.username=capitalizeFirstLetter(info.username),$("#status_scarletapi").statusColour("green")}).fail(function(){$("#status_scarletapi").statusColour("red")}),$.post("https://scarlet.australianarmedforces.org/api/armaserver",function(t){serverInfo=t,1==serverInfo["58.162.184.102:2302"].gq_online?($("#status_arma").statusColour("green"),$("#playerNo i").text(serverInfo["58.162.184.102:2302"].gq_numplayers),$("#playerNo").css("display","inline")):$("#status_arma").statusColour("red")}),$(function(){$.post("https://scarlet.australianarmedforces.org/api/ip/").done(function(t){IP=t.ip})});var wsUri="ws://localhost:1001",output;window.addEventListener("load",init,!1);